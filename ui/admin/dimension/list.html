<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1"/>
    <meta name="renderer" content="webkit"/>
    <title>维度管理</title>
    <script data-main="list.js" src="../boot.js" type="text/javascript"></script>
</head>
<body style="display: none">
<div class="mini-fit">
    <div class="mini-fit">
        <div id="dt-splitter" class="mini-splitter" style="width:100%;height:100%;">
            <div size="25%" showCollapseButton="true" style="padding:5px;">
                <div class="mini-toolbar" style="border-bottom:0;">
                    <table id="box">
                        <tr>
                            <td autz="hasPermission('dimension','save')">
                                <a class="mini-button add-type-button" iconCls="fa-plus">添加维度类型</a></td>
                        </tr>
                    </table>
                </div>
                <div id="type-grid" class="mini-treegrid" style="width:100%;height:100%;margin: auto;"
                     allowCellEdit="true" allowCellSelect="true"
                     idField="id" parentField="parentId" resultAsTree="false" allowDrag="true"
                     allowDrop="true" allowLeafDropIn="false" iconField="icon" pageSize="20"
                     expandOnLoad="1" treeColumn="index" showPager="true"
                     editNextOnEnterKey="true" editNextRowCell="true">
                    <div property="columns">
                        <div name="id" field="id" headerAlign="center" align="center" width="80">标识
                        </div>
                        <div field="name" width="100" headerAlign="center" align="center">名称</div>
                        <div name="action" renderer="renderAction" headerAlign="center" align="center">操作</div>
                    </div>
                </div>
            </div>
            <div showCollapseButton="true">
                <div id="du-splitter" class="mini-splitter" style="width:100%;height:100%;">
                    <div size="65%" showCollapseButton="true">
                        <div class="mini-toolbar" style="border-bottom:0;">
                            <table id="search-box">
                                <tr>
                                    <td>维度名称:<input name="name$LIKE" class="mini-textbox"/></td>
                                    <td><a class="mini-button search-button" plain="true" iconCls="icon-search">搜索</a>
                                    </td>
                                    <td autz="hasPermission('dimension','save')">
                                        <a onclick="mini.get('dimension-grid').addNode({sortIndex:grid.getData().length+1})"
                                           class="mini-button add-menu-button" iconCls="fa-plus">添加维度</a></td>
                                    <!--                <td autz="hasPermission('dimension','add')||hasPermission('organizational','update')">-->
                                    <!--                    <a class="mini-button save-all-button" plain="true" iconCls="fa-check">保存全部</a></td>-->
                                </tr>
                            </table>
                        </div>
                        <div id="dimension-grid" class="mini-treegrid" style="width:100%;height:100%;margin: auto;"
                             idField="id" parentField="parentId" resultAsTree="false"
                             iconField="icon" allowCellValid="true"
                             allowResize="true" expandOnLoad="true" allowLeafDropIn="true"
                             allowCellEdit="true" allowCellSelect="true" sortField="sortIndex"
                             allowDrag="true" allowDrop="true" treeColumn="index">
                            <div property="columns">
                                <div type="indexcolumn" name="index" width="30" align="center" headerAlign="center">
                                    拖动可排序
                                </div>
                                <div autz="hasFieldAccess('organizational','query','name')" field="name"
                                     headerAlign="center" align="center" width="50">维度名称
                                    <input property="editor" required emptyText="维度名称" class="mini-textbox"/>
                                </div>
                                <div field="typeId" width="50" headerAlign="center" align="center">维度类型
                                    <input  emptyText="维度类型" readonly class="mini-textbox"/>
                                </div>
                                <div field="sortIndex" width="50" headerAlign="center" align="center">排序序号
                                    <input property="editor" emptyText="排序序号" class="mini-textbox"/>
                                </div>
                                <div field="describe" width="100" headerAlign="center" align="center">描述
                                    <input property="editor" emptyText="描述" class="mini-textbox"/>
                                </div>
                                <div autz="hasPermission('dimension','save')"
                                     name="action" width="50" headerAlign="center" align="center">
                                    操作
                                </div>
                            </div>
                        </div>
                    </div>
                    <div showCollapseButton="true">
                        <div id="bind" class="mini-toolbar">

                            <a class="mini-button bind-user">绑定用户</a>

                        </div>
                        <div id="user-grid" class="mini-treegrid" style="width:100%;height:100%;margin: auto;"
                             allowCellEdit="true" allowCellSelect="true"
                             idField="id" parentField="parentId" resultAsTree="false" allowDrag="true"
                             allowDrop="true" allowLeafDropIn="false" iconField="icon" pageSize="20"
                             expandOnLoad="1" treeColumn="index" showPager="false"
                             editNextOnEnterKey="true" editNextRowCell="true">
                            <div property="columns">
                                <div field="userName" width="100" headerAlign="center" align="center">
                                    用户名
                                </div>
                                <div name="action" renderer="renderAction" headerAlign="center" align="center">操作</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
</body>
</html>